
<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soccer Match Predictor | SportsAI</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#13ec5b",
                        "background-light": "#f6f8f6",
                        "background-dark": "#102216",
                        "surface-dark": "#193322",
                        "border-dark": "#326744",
                    },
                    fontFamily: {
                        "display": ["Lexend", "sans-serif"],
                        "sans": ["Lexend", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.5rem",
                        "lg": "0.75rem",
                        "xl": "1rem",
                        "2xl": "1.5rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>
    <link rel="stylesheet" href="css/prediction.css">
    <style>
        /* Add CSS for notification animations */
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        
        /* Notification container */
        #notificationContainer {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            max-width: 350px;
        }
        
        .notification {
            background: linear-gradient(135deg, #193322 0%, #102216 100%);
            border: 1px solid #326744;
            border-left: 4px solid #13ec5b;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.3s ease-out;
        }
        
        .notification.error {
            border-left-color: #ef4444;
        }
        
        .notification.warning {
            border-left-color: #f59e0b;
        }
        
        .notification.success {
            border-left-color: #13ec5b;
        }
        
        .notification.info {
            border-left-color: #2196f3;
        }
        
        /* Custom file list styles */
        .file-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem;
            background-color: rgba(19, 236, 91, 0.05);
            border: 1px solid rgba(19, 236, 91, 0.1);
            border-radius: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .file-item .file-name {
            font-weight: 500;
            color: #1e293b;
        }
        
        .dark .file-item .file-name {
            color: #ffffff;
        }
        
        .file-item .file-size {
            font-size: 0.8rem;
            color: #666;
        }
        
        .dark .file-item .file-size {
            color: #a0a0a0;
        }
        
        .file-item .file-success {
            color: #13ec5b;
        }
        
        /* Prediction results styling */
        .prediction-card {
            background: linear-gradient(135deg, rgba(19, 236, 91, 0.05) 0%, rgba(19, 236, 91, 0.02) 100%);
            border: 1px solid rgba(19, 236, 91, 0.1);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .prediction-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(19, 236, 91, 0.1);
        }
        
        .prediction-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #13ec5b;
        }
        
        .prediction-confidence {
            font-size: 1.25rem;
            font-weight: 700;
            color: #ffffff;
            background-color: rgba(19, 236, 91, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 2rem;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .stat-box {
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 0.5rem;
            padding: 1rem;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #13ec5b;
            margin-bottom: 0.25rem;
        }
        
        .stat-label {
            font-size: 0.85rem;
            color: #a0a0a0;
        }
        
        .probability-row {
            display: flex;
            align-items: center;
            margin-bottom: 0.75rem;
            padding: 0.5rem;
            border-radius: 0.5rem;
            background-color: rgba(255, 255, 255, 0.03);
        }
        
        .probability-label {
            width: 100px;
            font-weight: 600;
            color: #ffffff;
        }
        
        .probability-bar-container {
            flex: 1;
            height: 24px;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            overflow: hidden;
            margin: 0 1rem;
        }
        
        .probability-fill {
            height: 100%;
            border-radius: 12px;
            transition: width 0.5s ease;
            position: relative;
        }
        
        .probability-value {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-weight: 600;
            font-size: 0.85rem;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .home-prob {
            background: linear-gradient(90deg, rgba(19, 236, 91, 0.8), #13ec5b);
        }
        
        .draw-prob {
            background: linear-gradient(90deg, rgba(117, 117, 117, 0.8), #757575);
        }
        
        .away-prob {
            background: linear-gradient(90deg, rgba(183, 28, 28, 0.8), #b71c1c);
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
        }
        
        .comparison-table th {
            background-color: rgba(19, 236, 91, 0.1);
            padding: 0.75rem;
            text-align: left;
            font-weight: 600;
            color: #13ec5b;
            border-bottom: 1px solid rgba(19, 236, 91, 0.2);
        }
        
        .comparison-table td {
            padding: 0.75rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .comparison-table tr:hover {
            background-color: rgba(19, 236, 91, 0.05);
        }
    </style>
</head>
<body class="font-display bg-background-light dark:bg-background-dark text-slate-900 dark:text-white antialiased overflow-x-hidden">
    <!-- Notification Container -->
    <div id="notificationContainer"></div>
    
    <!-- Header Section -->
    <header class="bg-surface-dark border-b border-border-dark">
        <div class="container mx-auto px-4 py-6">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="flex items-center gap-4">
                    <a href="index.html" class="w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center text-primary border border-primary/20 hover:bg-primary hover:text-background-dark transition-all duration-300 hover:scale-105 group">
                        <i class="fas fa-futbol text-xl group-hover:rotate-12 transition-transform duration-300"></i>
                    </a>
                    <div>
                        <h1 class="text-2xl md:text-3xl font-bold">Soccer Match Predictor</h1>
                        <p class="text-slate-400 dark:text-slate-400 text-sm md:text-base">
                            Upload your CSV data for statistical match predictions
                        </p>
                    </div>
                </div>
                <button id="clearDataBtn" class="px-4 py-2 bg-red-500/20 text-red-500 font-medium rounded-lg hover:bg-red-500/30 transition-colors duration-300 flex items-center gap-2 border border-red-500/20">
                    <i class="fas fa-trash"></i>
                    Clear Data
                </button>
            </div>
        </div>
    </header>
    
    <div class="container mx-auto px-4 py-6">
        <!-- Navigation Section -->
        <div class="flex gap-2 mb-8">
            <a href="odds-analyzer.html" class="px-6 py-3 bg-surface-dark text-slate-300 font-bold rounded-lg flex items-center gap-2 border border-border-dark hover:bg-primary hover:text-background-dark transition-colors duration-300">
                <i class="fas fa-calculator"></i>
                Odds Analyzer
            </a>
            <a href="prediction.html" class="px-6 py-3 bg-primary text-background-dark font-bold rounded-lg flex items-center gap-2">
                <i class="fas fa-futbol"></i>
                Soccer Predictor
            </a>
        </div>
        
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Left Column - Main Content -->
            <div class="lg:col-span-2 space-y-8">
                <!-- League Selector Section -->
                <div class="group relative overflow-hidden rounded-2xl border border-gray-200 dark:border-border-dark bg-white dark:bg-surface-dark p-6 transition-all duration-300 hover:border-primary/50 hover:shadow-[0_0_30px_rgba(19,236,91,0.1)]">
                    <h2 class="text-2xl font-bold mb-6 text-slate-900 dark:text-white flex items-center gap-2">
                        <i class="fas fa-database text-primary"></i>
                        Select League Data Source
                    </h2>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-slate-700 dark:text-slate-300 font-medium mb-2">
                                Choose League 
                                <span class="ml-2 px-2 py-1 bg-primary/10 text-primary text-xs rounded">Click to auto-load</span>
                            </label>
                            <div class="league-selector">
                                <div class="league-options grid grid-cols-1 md:grid-cols-2 gap-3">
                                    <!-- League options will be populated by JavaScript -->
                                    <div class="league-option cursor-pointer" data-league="laliga">
                                        <div class="league-card p-4 rounded-lg border border-gray-200 dark:border-border-dark hover:border-primary/50 transition-all duration-300">
                                            <div class="flex items-center gap-3">
                                                <div class="w-10 h-10 rounded-full bg-white dark:bg-background-dark flex items-center justify-center overflow-hidden border border-gray-300 dark:border-border-dark">
                                                    <img src="https://1000logos.net/wp-content/uploads/2019/01/Spanish-La-Liga-Logo.png" 
                                                        alt="La Liga Logo" class="w-full h-full object-contain p-1">
                                                </div>
                                                <div>
                                                    <div class="font-bold text-slate-900 dark:text-white">La Liga</div>
                                                    <div class="text-sm text-slate-600 dark:text-slate-400">20 Teams • Auto-loads on click</div>
                                                </div>
                                                <i class="fas fa-check league-check text-primary ml-auto" style="display: none;"></i>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="league-option cursor-pointer" data-league="premierleague">
                                        <div class="league-card p-4 rounded-lg border border-gray-200 dark:border-border-dark hover:border-primary/50 transition-all duration-300">
                                            <div class="flex items-center gap-3">
                                                <div class="w-10 h-10 rounded-full bg-white dark:bg-background-dark flex items-center justify-center overflow-hidden border border-gray-300 dark:border-border-dark">
                                                    <img src="https://logos-world.net/wp-content/uploads/2023/02/Premier-League-Symbol.png" 
                                                        alt="Premier League Logo" class="w-full h-full object-contain p-1">
                                                </div>
                                                <div>
                                                    <div class="font-bold text-slate-900 dark:text-white">Premier League</div>
                                                    <div class="text-sm text-slate-600 dark:text-slate-400">20 Teams • Auto-loads on click</div>
                                                </div>
                                                <i class="fas fa-check league-check text-primary ml-auto" style="display: none;"></i>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="league-option cursor-pointer" data-league="seriea">
                                        <div class="league-card p-4 rounded-lg border border-gray-200 dark:border-border-dark hover:border-primary/50 transition-all duration-300">
                                            <div class="flex items-center gap-3">
                                                <div class="w-10 h-10 rounded-full bg-white dark:bg-background-dark flex items-center justify-center overflow-hidden border border-gray-300 dark:border-border-dark">
                                                    <img src="https://assets.football-logos.cc/logos/italy/512x512/serie-a.1289b16a.png" 
                                                        alt="Serie A Logo" class="w-full h-full object-contain p-1">
                                                </div>
                                                <div>
                                                    <div class="font-bold text-slate-900 dark:text-white">Serie A</div>
                                                    <div class="text-sm text-slate-600 dark:text-slate-400">20 Teams • Auto-loads on click</div>
                                                </div>
                                                <i class="fas fa-check league-check text-primary ml-auto" style="display: none;"></i>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="league-option cursor-pointer" data-league="bundesliga">
                                        <div class="league-card p-4 rounded-lg border border-gray-200 dark:border-border-dark hover:border-primary/50 transition-all duration-300">
                                            <div class="flex items-center gap-3">
                                                <div class="w-10 h-10 rounded-full bg-white dark:bg-background-dark flex items-center justify-center overflow-hidden border border-gray-300 dark:border-border-dark">
                                                    <img src="https://upload.wikimedia.org/wikipedia/en/thumb/d/df/Bundesliga_logo_%282017%29.svg/1200px-Bundesliga_logo_%282017%29.svg.png" 
                                                        alt="Bundesliga Logo" class="w-full h-full object-contain p-1">
                                                </div>
                                                <div>
                                                    <div class="font-bold text-slate-900 dark:text-white">Bundesliga</div>
                                                    <div class="text-sm text-slate-600 dark:text-slate-400">18 Teams • Auto-loads on click</div>
                                                </div>
                                                <i class="fas fa-check league-check text-primary ml-auto" style="display: none;"></i>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="league-option cursor-pointer" data-league="custom">
                                        <div class="league-card p-4 rounded-lg border border-gray-200 dark:border-border-dark hover:border-primary/50 transition-all duration-300">
                                            <div class="flex items-center gap-3">
                                                <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center border border-primary/20">
                                                    <i class="fas fa-file-upload text-primary"></i>
                                                </div>
                                                <div>
                                                    <div class="font-bold text-slate-900 dark:text-white">Custom CSV</div>
                                                    <div class="text-sm text-slate-600 dark:text-slate-400">Upload your own CSV file</div>
                                                </div>
                                                <i class="fas fa-check league-check text-primary ml-auto" style="display: none;"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="leagueInfo" class="bg-primary/10 border border-primary/20 rounded-lg p-4 text-primary text-sm flex items-start gap-2" style="display: none;">
                            <i class="fas fa-spinner fa-spin mt-0.5" id="loadingSpinner" style="display: none;"></i>
                            <i class="fas fa-info-circle mt-0.5" id="infoIcon"></i>
                            <div>
                                <strong id="selectedLeagueName" class="block">No league selected</strong>
                                <div id="selectedLeagueStats" class="mt-1"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- CSV Upload Section -->
                <div class="group relative overflow-hidden rounded-2xl border border-gray-200 dark:border-border-dark bg-white dark:bg-surface-dark p-6 transition-all duration-300 hover:border-primary/50 hover:shadow-[0_0_30px_rgba(19,236,91,0.1)]" id="csvUploadCard" style="display: none;">
                    <h2 class="text-2xl font-bold mb-6 text-slate-900 dark:text-white flex items-center gap-2">
                        <i class="fas fa-file-upload text-primary"></i>
                        Upload CSV Data File
                    </h2>
                    
                    <div class="space-y-4">
                        <div class="bg-primary/10 border border-primary/20 rounded-lg p-4 text-primary text-sm">
                            <i class="fas fa-info-circle float-left mr-2 mt-0.5"></i>
                            <strong>Required CSV Format:</strong> Your CSV file should contain team statistics for all teams.
                            <div class="mt-2">
                                <strong>Required Columns:</strong> Squad, MP, W, D, L, GF, GA, xG, xGA 
                            </div>
                            <div class="mt-2 font-mono text-xs">
                                Example row: "Barcelona,17,14,1,2,49,20,38.8,21.7"
                            </div>
                            <div class="mt-2">
                                <strong>Note:</strong> CSV files should be in the same folder as this HTML file or uploaded directly.
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-slate-700 dark:text-slate-300 font-medium mb-2">
                                Upload Teams CSV 
                                <span class="ml-2 px-2 py-1 bg-primary/10 text-primary text-xs rounded">Required for custom data</span>
                            </label>
                            <div class="file-upload-area border-2 border-dashed border-gray-300 dark:border-border-dark rounded-lg p-8 text-center cursor-pointer hover:border-primary/50 transition-all duration-300" id="csvUpload">
                                <div class="file-upload-icon mb-4">
                                    <i class="fas fa-file-csv text-4xl text-primary"></i>
                                </div>
                                <p class="font-bold text-slate-900 dark:text-white">Click to upload or drag and drop</p>
                                <p class="text-slate-600 dark:text-slate-400 text-sm mt-1">Teams statistics CSV file (used for both home and away)</p>
                                <input type="file" id="csvFile" accept=".csv" class="hidden">
                                <div class="file-list mt-4" id="fileList"></div>
                            </div>
                        </div>
                        
                        <div id="dataStatus" class="bg-primary/10 border border-primary/20 rounded-lg p-4 flex items-center gap-3" style="display: none;">
                            <i class="fas fa-check-circle text-primary text-xl"></i>
                            <div>
                                <strong class="block text-slate-900 dark:text-white">Data Loaded Successfully</strong>
                                <div id="dataStats" class="text-sm text-slate-600 dark:text-slate-400 mt-1"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Loading Indicator Section -->
                <div class="loading text-center py-12" id="loadingIndicator" style="display: none;">
                    <div class="loading-spinner mx-auto mb-4"></div>
                    <p class="text-slate-600 dark:text-slate-400">Processing data...</p>
                </div>
                
                <!-- Matchup Display Section -->
                <div class="group relative overflow-hidden rounded-2xl border border-gray-200 dark:border-border-dark bg-white dark:bg-surface-dark p-6 transition-all duration-300 hover:border-primary/50 hover:shadow-[0_0_30px_rgba(19,236,91,0.1)]" id="matchupDisplay">
                    <h2 class="text-2xl font-bold mb-6 text-slate-900 dark:text-white flex items-center gap-2">
                        <i class="fas fa-futbol text-primary"></i>
                        Matchup Preview
                    </h2>
                    <div class="team-display">
                        <div class="team bg-background-light dark:bg-background-dark p-6 rounded-xl border border-gray-200 dark:border-border-dark" id="homeTeamDisplay">
                            <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-4">Select Home Team</h3>
                            <div class="team-stats flex justify-center gap-6">
                                <div class="stat-item text-center">
                                    <div class="stat-value text-primary text-2xl font-bold">-</div>
                                    <div class="stat-label text-slate-600 dark:text-slate-400 text-sm">xG</div>
                                </div>
                                <div class="stat-item text-center">
                                    <div class="stat-value text-primary text-2xl font-bold">-</div>
                                    <div class="stat-label text-slate-600 dark:text-slate-400 text-sm">xGA</div>
                                </div>
                            </div>
                        </div>
                        <div class="vs-text flex items-center justify-center px-4">
                            <div class="bg-surface-dark text-white font-bold py-2 px-4 rounded-full">VS</div>
                        </div>
                        <div class="team bg-background-light dark:bg-background-dark p-6 rounded-xl border border-gray-200 dark:border-border-dark" id="awayTeamDisplay">
                            <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-4">Select Away Team</h3>
                            <div class="team-stats flex justify-center gap-6">
                                <div class="stat-item text-center">
                                    <div class="stat-value text-primary text-2xl font-bold">-</div>
                                    <div class="stat-label text-slate-600 dark:text-slate-400 text-sm">xG</div>
                                </div>
                                <div class="stat-item text-center">
                                    <div class="stat-value text-primary text-2xl font-bold">-</div>
                                    <div class="stat-label text-slate-600 dark:text-slate-400 text-sm">xGA</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Prediction Results Section -->
                <div id="predictionResults" class="group relative overflow-hidden rounded-2xl border border-gray-200 dark:border-border-dark bg-white dark:bg-surface-dark p-6 transition-all duration-300 hover:border-primary/50 hover:shadow-[0_0_30px_rgba(19,236,91,0.1)]" style="display: none;">
                    <h2 class="text-2xl font-bold mb-6 text-slate-900 dark:text-white flex items-center gap-2">
                        <i class="fas fa-trophy text-primary"></i>
                        Prediction Results
                    </h2>
                    <div id="predictionContent"></div>
                </div>
            </div>
            
                        <!-- Right Column - Settings Only -->
            <div class="space-y-8">
                <!-- Prediction Settings Section -->
                <div class="group relative overflow-hidden rounded-2xl border border-gray-200 dark:border-border-dark bg-white dark:bg-surface-dark p-6 transition-all duration-300 hover:border-primary/50 hover:shadow-[0_0_30px_rgba(19,236,91,0.1)]">
                    <h2 class="text-2xl font-bold mb-6 text-slate-900 dark:text-white flex items-center gap-2">
                        <i class="fas fa-sliders-h text-primary"></i>
                        Prediction Settings
                    </h2>
                    
                    <div class="space-y-6">
                        <!-- Home Team Selection -->
                        <div>
                            <label class="block text-slate-700 dark:text-slate-300 font-medium mb-2">Home Team</label>
                            <select id="homeTeam" class="w-full px-4 py-3 bg-background-light dark:bg-background-dark border border-gray-300 dark:border-border-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-slate-900 dark:text-white" disabled>
                                <option value="">-- Upload or select data first --</option>
                            </select>
                        </div>
                        
                        <!-- Away Team Selection -->
                        <div>
                            <label class="block text-slate-700 dark:text-slate-300 font-medium mb-2">Away Team</label>
                            <select id="awayTeam" class="w-full px-4 py-3 bg-background-light dark:bg-background-dark border border-gray-300 dark:border-border-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-slate-900 dark:text-white" disabled>
                                <option value="">-- Upload or select data first --</option>
                            </select>
                        </div>
                        
                        <!-- Team Stats -->
                        <div id="teamStats" style="display: none;">
                            <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Team Statistics</h3>
                            
                            <!-- Home Team Stats -->
                            <div class="mb-6">
                                <div class="flex items-center gap-2 mb-3">
                                    <div class="w-3 h-3 rounded-full bg-primary"></div>
                                    <h4 id="homeTeamLabel" class="font-bold text-slate-900 dark:text-white">Home Team Stats</h4>
                                </div>
                                <div class="stats-grid grid grid-cols-4 gap-2">
                                    <div class="stat-card bg-primary/5 border border-primary/10 rounded-lg p-3 text-center">
                                        <div class="value text-primary font-bold text-xl" id="homeMP">-</div>
                                        <div class="label text-slate-600 dark:text-slate-400 text-xs">Matches</div>
                                    </div>
                                    <div class="stat-card bg-primary/5 border border-primary/10 rounded-lg p-3 text-center">
                                        <div class="value text-primary font-bold text-xl" id="homeW">-</div>
                                        <div class="label text-slate-600 dark:text-slate-400 text-xs">Wins</div>
                                    </div>
                                    <div class="stat-card bg-primary/5 border border-primary/10 rounded-lg p-3 text-center">
                                        <div class="value text-primary font-bold text-xl" id="homeGF">-</div>
                                        <div class="label text-slate-600 dark:text-slate-400 text-xs">Goals For</div>
                                    </div>
                                    <div class="stat-card bg-primary/5 border border-primary/10 rounded-lg p-3 text-center">
                                        <div class="value text-primary font-bold text-xl" id="homeGA">-</div>
                                        <div class="label text-slate-600 dark:text-slate-400 text-xs">Goals Against</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Away Team Stats -->
                            <div>
                                <div class="flex items-center gap-2 mb-3">
                                    <div class="w-3 h-3 rounded-full bg-red-500"></div>
                                    <h4 id="awayTeamLabel" class="font-bold text-slate-900 dark:text-white">Away Team Stats</h4>
                                </div>
                                <div class="stats-grid grid grid-cols-4 gap-2">
                                    <div class="stat-card bg-red-500/5 border border-red-500/10 rounded-lg p-3 text-center">
                                        <div class="value text-red-500 font-bold text-xl" id="awayMP">-</div>
                                        <div class="label text-slate-600 dark:text-slate-400 text-xs">Matches</div>
                                    </div>
                                    <div class="stat-card bg-red-500/5 border border-red-500/10 rounded-lg p-3 text-center">
                                        <div class="value text-red-500 font-bold text-xl" id="awayW">-</div>
                                        <div class="label text-slate-600 dark:text-slate-400 text-xs">Wins</div>
                                    </div>
                                    <div class="stat-card bg-red-500/5 border border-red-500/10 rounded-lg p-3 text-center">
                                        <div class="value text-red-500 font-bold text-xl" id="awayGF">-</div>
                                        <div class="label text-slate-600 dark:text-slate-400 text-xs">Goals For</div>
                                    </div>
                                    <div class="stat-card bg-red-500/5 border border-red-500/10 rounded-lg p-3 text-center">
                                        <div class="value text-red-500 font-bold text-xl" id="awayGA">-</div>
                                        <div class="label text-slate-600 dark:text-slate-400 text-xs">Goals Against</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Betting Odds -->
                        <div>
                            <label class="block text-slate-700 dark:text-slate-300 font-medium mb-2">
                                Betting Odds
                                <span class="ml-2 px-2 py-1 bg-primary/10 text-primary text-xs rounded">Optional - American Format</span>
                            </label>
                            <div class="grid grid-cols-3 gap-3">
                                <div>
                                    <label class="block text-slate-600 dark:text-slate-400 text-sm mb-1">Home Win</label>
                                    <input type="text" id="homeOdds" placeholder="+150" value="" 
                                        class="w-full px-3 py-2 bg-background-light dark:bg-background-dark border border-gray-300 dark:border-border-dark rounded text-center text-slate-900 dark:text-white">
                                </div>
                                <div>
                                    <label class="block text-slate-600 dark:text-slate-400 text-sm mb-1">Draw</label>
                                    <input type="text" id="drawOdds" placeholder="+220" value="" 
                                        class="w-full px-3 py-2 bg-background-light dark:bg-background-dark border border-gray-300 dark:border-border-dark rounded text-center text-slate-900 dark:text-white">
                                </div>
                                <div>
                                    <label class="block text-slate-600 dark:text-slate-400 text-sm mb-1">Away Win</label>
                                    <input type="text" id="awayOdds" placeholder="+140" value="" 
                                        class="w-full px-3 py-2 bg-background-light dark:bg-background-dark border border-gray-300 dark:border-border-dark rounded text-center text-slate-900 dark:text-white">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Model Weight -->
                        <div>
                            <label class="block text-slate-700 dark:text-slate-300 font-medium mb-2">
                                Model Weight
                                <span class="ml-2 px-2 py-1 bg-primary/10 text-primary text-xs rounded">0 = betting odds only, 1 = model only</span>
                            </label>
                            <input type="range" id="modelWeight" min="0" max="1" step="0.1" value="0.6" 
                                class="w-full h-2 bg-background-light dark:bg-background-dark rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary">
                            <div class="flex justify-between mt-2 text-sm text-slate-600 dark:text-slate-400">
                                <span>Betting Odds</span>
                                <span id="weightValue" class="font-bold text-primary">0.6</span>
                                <span>Model</span>
                            </div>
                        </div>
                        
                        <!-- Predict Button -->
                        <button id="predictBtn" class="w-full py-3 bg-primary text-background-dark font-bold rounded-lg hover:bg-primary/90 transition-colors duration-300 flex items-center gap-2 justify-center" disabled>
                            <i class="fas fa-magic"></i>
                            Generate Prediction
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Model Explanation Section - NOW AT BOTTOM -->
        <div class="mt-8">
            <div class="group relative overflow-hidden rounded-2xl border border-gray-200 dark:border-border-dark bg-white dark:bg-surface-dark p-6 transition-all duration-300 hover:border-primary/50 hover:shadow-[0_0_30px_rgba(19,236,91,0.1)]">
                <h2 class="text-2xl font-bold mb-6 text-slate-900 dark:text-white flex items-center gap-2">
                    <i class="fas fa-chart-line text-primary"></i>
                    Statistical Model Explanation
                </h2>
                
                <!-- Three boxes side by side -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Poisson Distribution Box -->
                    <div class="model-card bg-background-light dark:bg-background-dark p-5 rounded-xl border border-gray-200 dark:border-border-dark hover:border-primary/30 transition-all duration-300 hover:scale-[1.02]">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center">
                                <i class="fas fa-calculator text-primary text-xl"></i>
                            </div>
                            <h4 class="font-bold text-lg text-slate-900 dark:text-white">Poisson Distribution</h4>
                        </div>
                        <p class="text-slate-600 dark:text-slate-400 text-sm mb-4">
                            The model uses Poisson distribution to predict goal probabilities based on expected goals (xG) data.
                        </p>
                        <div class="bg-primary/10 border border-primary/20 rounded-lg p-3 text-primary text-xs font-mono">
                            <strong>Formula:</strong> P(k goals) = (λ^k * e^-λ) / k!
                        </div>
                    </div>
                    
                    <!-- Hybrid Approach Box -->
                    <div class="model-card bg-background-light dark:bg-background-dark p-5 rounded-xl border border-gray-200 dark:border-border-dark hover:border-primary/30 transition-all duration-300 hover:scale-[1.02]">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center">
                                <i class="fas fa-balance-scale text-primary text-xl"></i>
                            </div>
                            <h4 class="font-bold text-lg text-slate-900 dark:text-white">Hybrid Approach</h4>
                        </div>
                        <p class="text-slate-600 dark:text-slate-400 text-sm mb-4">
                            Combines statistical model predictions with betting market odds using adjustable weighting.
                        </p>
                        <div class="bg-primary/10 border border-primary/20 rounded-lg p-3 text-primary text-xs font-mono">
                            <strong>Formula:</strong> Final = (Model × Weight) + (Betting × (1-Weight))
                        </div>
                    </div>
                    
                    <!-- xG Statistics Box -->
                    <div class="model-card bg-background-light dark:bg-background-dark p-5 rounded-xl border border-gray-200 dark:border-border-dark hover:border-primary/30 transition-all duration-300 hover:scale-[1.02]">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center">
                                <i class="fas fa-futbol text-primary text-xl"></i>
                            </div>
                            <h4 class="font-bold text-lg text-slate-900 dark:text-white">xG Statistics</h4>
                        </div>
                        <p class="text-slate-600 dark:text-slate-400 text-sm mb-4">
                            Expected Goals (xG) measures the quality of chances. Higher xG = better scoring opportunities.
                        </p>
                        <div class="bg-primary/10 border border-primary/20 rounded-lg p-3 text-primary text-xs font-mono">
                            <strong>Calculation:</strong> Home Attack + Away Defense / 2
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/prediction/prediction-utils.js"></script>
    <script src="js/prediction/prediction-file.js"></script>
    <script src="js/prediction/prediction-data.js"></script>
    <script src="js/prediction/prediction-stats.js"></script>
    <script src="js/prediction/prediction-math.js"></script>
    <script src="js/prediction/prediction-model.js"></script>
    <script src="js/prediction/prediction-display.js"></script>
    <script src="js/prediction/prediction-storage.js"></script>
    <script src="js/prediction/prediction-main.js"></script>
</body>
</html>